<svg xmlns="http://www.w3.org/2000/svg" id="mermaid-1533084704946" width="100%" height="100%" viewBox="-50 -10 1250 1889" style="max-width:1250px"><style>#mermaid-1533084704946 .actor{stroke:#ccf;fill:#ececff}#mermaid-1533084704946 text.actor{fill:#000;stroke:none}#mermaid-1533084704946 .actor-line{stroke:gray}#mermaid-1533084704946 .messageLine0{marker-end:&apos;url(#arrowhead)&apos;}#mermaid-1533084704946 .messageLine0,#mermaid-1533084704946 .messageLine1{stroke-width:1.5;stroke-dasharray:&apos;2 2&apos;;stroke:#333}#mermaid-1533084704946 #arrowhead{fill:#333}#mermaid-1533084704946 #crosshead path{fill:#333!important;stroke:#333!important}#mermaid-1533084704946 .messageText{fill:#333;stroke:none}#mermaid-1533084704946 .labelBox{stroke:#ccf;fill:#ececff}#mermaid-1533084704946 .labelText,#mermaid-1533084704946 .loopText{fill:#000;stroke:none}#mermaid-1533084704946 .loopLine{stroke-width:2;stroke-dasharray:&apos;2 2&apos;;marker-end:&apos;url(#arrowhead)&apos;;stroke:#ccf}#mermaid-1533084704946 .note{stroke:#aa3;fill:#fff5ad}#mermaid-1533084704946 .noteText{fill:#000;stroke:none;font-family:&apos;trebuchet ms&apos;,verdana,arial;font-size:14px}</style><style>#mermaid-1533084704946{color:rgba(0,0,0,.65);font:400 14px/21px &quot;Monospaced Number&quot;,&quot;Chinese Quote&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;PingFang SC&quot;,&quot;Hiragino Sans GB&quot;,&quot;Microsoft YaHei&quot;,&quot;Helvetica Neue&quot;,Helvetica,Arial,sans-serif}</style><g><line id="actor0" x1="75" x2="75" y1="5" y2="1878" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="0" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="75" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="75" dy="0">ClientApp</tspan></text></g><g><line id="actor1" x1="275" x2="275" y1="5" y2="1878" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="200" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="275" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="275" dy="0">PluginManager</tspan></text></g><g><line id="actor2" x1="475" x2="475" y1="5" y2="1878" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="400" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="475" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="475" dy="0">PluginLoader</tspan></text></g><g><line id="actor3" x1="675" x2="675" y1="5" y2="1878" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="600" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="675" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="675" dy="0">PluginA</tspan></text></g><g><line id="actor4" x1="875" x2="875" y1="5" y2="1878" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="800" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="875" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="875" dy="0">ProxyPlugin</tspan></text></g><g><line id="actor5" x1="1075" x2="1075" y1="5" y2="1878" stroke="#999" stroke-width=".5" class="actor-line"/><rect width="150" height="65" x="1000" y="0" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1075" y="32.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1075" dy="0">RemoteEndpoint</tspan></text></g><defs><marker id="arrowhead" markerHeight="4" markerWidth="6" orient="auto" refX="5" refY="2"><path d="M 0,0 V 4 L6,2 Z"/></marker></defs><defs><marker id="crosshead" markerHeight="8" markerWidth="15" orient="auto" refX="16" refY="4"><path fill="#000" stroke="#000" stroke-width="1" d="M 9,2 V 6 L16,4 Z" style="stroke-dasharray:0,0"/><path fill="none" stroke="#000" stroke-width="1" d="M 0,1 L 6,7 M 6,1 L 0,7" style="stroke-dasharray:0,0"/></marker></defs><g><text x="175" y="93" class="messageText" style="text-anchor:middle">initialize(cfile)</text><line x1="75" x2="275" y1="100" y2="100" stroke="#000" stroke-width="2" class="messageLine0" style="fill:none"/></g><g><text x="275" y="128" class="messageText" style="text-anchor:middle">parseConfig(cfile)</text><path stroke="#000" stroke-width="2" d="M 275,135 C 335,125 335,165 275,155" class="messageLine0" style="fill:none"/></g><g><text x="375" y="218" class="messageText" style="text-anchor:middle">loadPlugin(A)</text><line x1="275" x2="475" y1="225" y2="225" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="575" y="253" class="messageText" style="text-anchor:middle">configure(cdata)</text><line x1="475" x2="675" y1="260" y2="260" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="575" y="288" class="messageText" style="text-anchor:middle">initialize()</text><line x1="475" x2="675" y1="295" y2="295" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="575" y="348" class="messageText" style="text-anchor:middle">LookupAPI</text><line x1="475" x2="675" y1="355" y2="355" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="575" y="383" class="messageText" style="text-anchor:middle">Return fnPtr</text><line x1="475" x2="675" y1="390" y2="390" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="475" y="418" class="messageText" style="text-anchor:middle">Map fnPtr in AdapterTable</text><path stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" d="M 475,425 C 535,415 535,455 475,445" class="messageLine0" style="fill:none"/></g><g><line x1="365" x2="685" y1="305" y2="305" class="loopLine"/><line x1="685" x2="685" y1="305" y2="465" class="loopLine"/><line x1="365" x2="685" y1="465" y2="465" class="loopLine"/><line x1="365" x2="365" y1="305" y2="465" class="loopLine"/><polygon points="365 305 415 305 415 318 406.6 325 365 325" class="labelBox"/><text x="372.5" y="320" fill="#000" class="labelText"><tspan x="372.5" fill="#000">loop</tspan></text><text x="525" y="320" fill="#000" class="loopText" style="text-anchor:middle"><tspan x="525" fill="#000">[ ForEachManagementAPI ]</tspan></text></g><g><text x="375" y="493" class="messageText" style="text-anchor:middle">Return AdapterTable</text><line x1="475" x2="275" y1="500" y2="500" stroke="#000" stroke-width="2" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="275" y="528" class="messageText" style="text-anchor:middle">StoreAdapterTable</text><path stroke="#000" stroke-width="2" d="M 275,535 C 335,525 335,565 275,555" class="messageLine0" style="fill:none"/></g><g><line x1="165" x2="695" y1="175" y2="175" class="loopLine"/><line x1="695" x2="695" y1="175" y2="575" class="loopLine"/><line x1="165" x2="695" y1="575" y2="575" class="loopLine"/><line x1="165" x2="165" y1="175" y2="575" class="loopLine"/><polygon points="165 175 215 175 215 188 206.6 195 165 195" class="labelBox"/><text x="172.5" y="190" fill="#000" class="labelText"><tspan x="172.5" fill="#000">loop</tspan></text><text x="430" y="190" fill="#000" class="loopText" style="text-anchor:middle"><tspan x="430" fill="#000">[ ForEachPlugin ]</tspan></text></g><g><text x="175" y="603" class="messageText" style="text-anchor:middle">fpgaEnumerate</text><line x1="75" x2="275" y1="610" y2="610" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><rect width="150" height="36" x="200" y="620" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="196" y="644" fill="#000" class="noteText"><tspan x="216" fill="#000">ForEachAdapterTable</tspan></text></g><g><text x="475" y="684" class="messageText" style="text-anchor:middle">fpgaEnumerate()</text><line x1="275" x2="675" y1="691" y2="691" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="475" y="719" class="messageText" style="text-anchor:middle">ReturnTokenList(PluginA)</text><line x1="675" x2="275" y1="726" y2="726" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="275" y="779" class="messageText" style="text-anchor:middle">tag(Token, PluginA)</text><path stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" d="M 275,786 C 335,776 335,816 275,806" class="messageLine0" style="fill:none"/></g><g><line x1="165" x2="385" y1="736" y2="736" class="loopLine"/><line x1="385" x2="385" y1="736" y2="826" class="loopLine"/><line x1="165" x2="385" y1="826" y2="826" class="loopLine"/><line x1="165" x2="165" y1="736" y2="826" class="loopLine"/><polygon points="165 736 215 736 215 749 206.6 756 165 756" class="labelBox"/><text x="172.5" y="751" fill="#000" class="labelText"><tspan x="172.5" fill="#000">loop</tspan></text><text x="275" y="751" fill="#000" class="loopText" style="text-anchor:middle"><tspan x="275" fill="#000">[ ForEachToken(PluginA) ]</tspan></text></g><g><text x="275" y="854" class="messageText" style="text-anchor:middle">ExtendTokenList(TokensA)</text><path stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" d="M 275,861 C 335,851 335,891 275,881" class="messageLine0" style="fill:none"/></g><g><text x="575" y="919" class="messageText" style="text-anchor:middle">fpgaEnumerate()</text><line x1="275" x2="875" y1="926" y2="926" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="975" y="954" class="messageText" style="text-anchor:middle">send_msg(enumerate, filter)</text><line x1="875" x2="1075" y1="961" y2="961" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="975" y="989" class="messageText" style="text-anchor:middle">recv_msg(tokens)</text><line x1="1075" x2="875" y1="996" y2="996" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="875" y="1049" class="messageText" style="text-anchor:middle">deserialize(messageToken, fpga_token)</text><path stroke="#000" stroke-width="2" d="M 875,1056 C 935,1046 935,1086 875,1076" class="messageLine0" style="fill:none"/></g><g><text x="875" y="1114" class="messageText" style="text-anchor:middle">associate(fpga_token, endpoint_connection)</text><path stroke="#000" stroke-width="2" d="M 875,1121 C 935,1111 935,1151 875,1141" class="messageLine0" style="fill:none"/></g><g><line x1="729.57" x2="1020.43" y1="1006" y2="1006" class="loopLine"/><line x1="1020.43" x2="1020.43" y1="1006" y2="1161" class="loopLine"/><line x1="729.57" x2="1020.43" y1="1161" y2="1161" class="loopLine"/><line x1="729.57" x2="729.57" y1="1006" y2="1161" class="loopLine"/><polygon points="729.57 1006 779.57 1006 779.57 1019 771.17 1026 729.57 1026" class="labelBox"/><text x="737.07" y="1021" fill="#000" class="labelText"><tspan x="737.07" fill="#000">loop</tspan></text><text x="875" y="1021" fill="#000" class="loopText" style="text-anchor:middle"><tspan x="875" fill="#000">[ ForEachToken ]</tspan></text></g><g><text x="575" y="1189" class="messageText" style="text-anchor:middle">ReturnTokenList(ProxyPlugin)</text><line x1="875" x2="275" y1="1196" y2="1196" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="275" y="1249" class="messageText" style="text-anchor:middle">tag(Token, ProxyPlugin)</text><path stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" d="M 275,1256 C 335,1246 335,1286 275,1276" class="messageLine0" style="fill:none"/></g><g><line x1="165" x2="385" y1="1206" y2="1206" class="loopLine"/><line x1="385" x2="385" y1="1206" y2="1296" class="loopLine"/><line x1="165" x2="385" y1="1296" y2="1296" class="loopLine"/><line x1="165" x2="165" y1="1206" y2="1296" class="loopLine"/><polygon points="165 1206 215 1206 215 1219 206.6 1226 165 1226" class="labelBox"/><text x="172.5" y="1221" fill="#000" class="labelText"><tspan x="172.5" fill="#000">loop</tspan></text><text x="275" y="1221" fill="#000" class="loopText" style="text-anchor:middle"><tspan x="275" fill="#000">[ ForEachToken(ProxyPlugin) ]</tspan></text></g><g><text x="275" y="1324" class="messageText" style="text-anchor:middle">ExtendTokenList(TokensB)</text><path stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" d="M 275,1331 C 335,1321 335,1361 275,1351" class="messageLine0" style="fill:none"/></g><g><text x="175" y="1389" class="messageText" style="text-anchor:middle">ReturnAllTokenList</text><line x1="275" x2="75" y1="1396" y2="1396" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="175" y="1424" class="messageText" style="text-anchor:middle">fpgaOpen(Token)</text><line x1="75" x2="275" y1="1431" y2="1431" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="275" y="1459" class="messageText" style="text-anchor:middle">untag(Token, AdapterTableB)</text><path stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" d="M 275,1466 C 335,1456 335,1496 275,1486" class="messageLine0" style="fill:none"/></g><g><text x="575" y="1524" class="messageText" style="text-anchor:middle">fpgaOpen(Token)</text><line x1="275" x2="875" y1="1531" y2="1531" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="975" y="1559" class="messageText" style="text-anchor:middle">send_msg(open, token)</text><line x1="875" x2="1075" y1="1566" y2="1566" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine0" style="fill:none"/></g><g><text x="975" y="1594" class="messageText" style="text-anchor:middle">recv_msg(handle)</text><line x1="1075" x2="875" y1="1601" y2="1601" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><text x="875" y="1629" class="messageText" style="text-anchor:middle">make_fpga_handle(handle)</text><path stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" d="M 875,1636 C 935,1626 935,1666 875,1656" class="messageLine0" style="fill:none"/></g><g><rect width="150" height="36" x="800" y="1676" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="796" y="1700" fill="#000" class="noteText"><tspan x="816" fill="#000">associate handle to endpoint</tspan></text></g><g><text x="575" y="1740" class="messageText" style="text-anchor:middle">return FPGA_OK, handle</text><line x1="875" x2="275" y1="1747" y2="1747" stroke="#000" stroke-width="2" marker-end="url(#arrowhead)" class="messageLine1" style="stroke-dasharray:3,3;fill:none"/></g><g><rect width="150" height="36" x="200" y="1757" fill="#EDF2AE" stroke="#666" class="note" rx="0" ry="0"/><text x="196" y="1781" fill="#000" class="noteText"><tspan x="216" fill="#000">associate handle to ProxyPlugin</tspan></text></g><g><rect width="150" height="65" x="0" y="1813" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="75" y="1845.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="75" dy="0">ClientApp</tspan></text></g><g><rect width="150" height="65" x="200" y="1813" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="275" y="1845.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="275" dy="0">PluginManager</tspan></text></g><g><rect width="150" height="65" x="400" y="1813" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="475" y="1845.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="475" dy="0">PluginLoader</tspan></text></g><g><rect width="150" height="65" x="600" y="1813" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="675" y="1845.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="675" dy="0">PluginA</tspan></text></g><g><rect width="150" height="65" x="800" y="1813" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="875" y="1845.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="875" dy="0">ProxyPlugin</tspan></text></g><g><rect width="150" height="65" x="1000" y="1813" fill="#eaeaea" stroke="#666" class="actor" rx="3" ry="3"/><text x="1075" y="1845.5" alignment-baseline="central" class="actor" dominant-baseline="central" style="text-anchor:middle"><tspan x="1075" dy="0">RemoteEndpoint</tspan></text></g></svg>